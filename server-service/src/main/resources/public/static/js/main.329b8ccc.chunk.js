(this["webpackJsonpui-service"]=this["webpackJsonpui-service"]||[]).push([[0],{106:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);a(98);var n=a(0),r=a(27),c=a.n(r),s=a(17),i=a(96),o=a(28),u=a(29),l=a(31),d=a(30),p=(a(106),a(176)),j=a(2);var b=Object(s.b)((function(e){return{userState:e.reducer}}))((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"col-1 align-self-start"}),Object(j.jsx)("div",{className:"col-9 mt-4",children:Object(j.jsx)("p",{className:"h1 text-center",children:Object(j.jsxs)(p.a,{className:"badge-secondary ",children:["FX- ",e.userState.title]})})}),Object(j.jsx)("div",{className:"col-2 mt-4",children:e.userState.selectedUser.name&&Object(j.jsxs)("div",{children:["Hello",Object(j.jsx)("p",{className:"h5",children:e.userState.selectedUser.name}),Object(j.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){localStorage.clear(),window.location.reload()},children:"Logout"})]})})]})})),v=a(16),O=a.n(v),f=a(32),h=a(33),m=a.n(h),E="USER_LOGGED_IN",x="PRE_EVAL_SCORE",S="POST_EVAL_SCORE",y="POPULATE_TITLE",C="SELECTED_USER",P="POPULATE_USERS",N="PRE_EVAL_COMPLETED",g="POST_EVAL_COMPLETED",k="EVAL_QUESTIONS",w="POST_EVAL_CLICKED",L="PRE_EVAL_CLICKED",_="SELECTED_ADMIN_USER",I="http://localhost:8080",R=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(I+"/preEvalQuestions").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(I+"/preEvalQuestions").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(I+"/users").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(I+"/preEvalSubmission",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(I+"/postEvalSubmission",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(I+"/title").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(I+"/userLoggedIn",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){return{type:k,payload:e}},B=function(e){return{type:P,payload:e}},J=function(e){return{type:C,payload:e}},M=function(e){return{type:y,payload:e}},q=(a(128),a(177)),F=a(178),K=a(97);function H(e){return Object(j.jsxs)(q.a,{onSubmit:e.onSubmit,children:[Object(j.jsx)(q.a.Group,{children:Object(j.jsx)(K.a,{clearButton:!0,id:"user",labelKey:"name",onInputChange:function(e,t){console.log(e,t)},options:e.options,placeholder:"Select your name..."})}),Object(j.jsx)(q.a.Group,{className:"align-self-center",children:Object(j.jsx)(F.a,{variant:"primary",type:"submit",children:"Go"})})]})}var X=a(38);function z(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(q.a,{children:[Object(j.jsx)(q.a.Group,{children:Object(j.jsx)(F.a,{className:"pl-5 pr-5",variant:"primary",type:"submit",onClick:e.onPreEvaluationButtonClick,disabled:e.isPreEvalCompleted,children:"Pre-Evaluation"})}),Object(j.jsx)(q.a.Group,{children:Object(j.jsx)(F.a,{className:"pl-5 pr-5",variant:"primary",type:"submit",onClick:e.onPostEvaluationButtonClick,disabled:e.isPostEvalCompleted,children:"Post-Evaluation"})})]})})}var W=a(49);function Y(e){var t=e.minutes,a=e.seconds;return Object(j.jsx)("div",{children:0===t&&0===a?Object(j.jsxs)("h1",{children:["0".concat(t),":","0".concat(a)]}):Object(j.jsxs)("h1",{children:[" ",t<10?"0".concat(t):t,":",a<10?"0".concat(a):a]})})}function Z(e){var t="mins",a="secs",r=function(e,t){return localStorage.setItem(e,t)},c=function(e){return localStorage.getItem(e)},s=c(t),i=c(a),o="undefined"!==s&&"null"!==s&&s?s:10,u="undefined"!==i&&"null"!==i&&i?i:0,l=Object(n.useState)(!1),d=Object(W.a)(l,2),p=d[0],b=d[1],v=Object(n.useState)(o),O=Object(W.a)(v,2),f=O[0],h=O[1],m=Object(n.useState)(u),E=Object(W.a)(m,2),x=E[0],S=E[1];return Object(n.useEffect)((function(){var n=setInterval((function(){var c=f,s=x;x>0&&(s=x-1),0===x&&(0===f?(clearInterval(n),e.setDisableButton(!0)):(c=f-1,s=59)),r(t,c),r(a,s),h(c),S(s)}),1e3);return function(){clearInterval(n)}})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"col-10",children:Object(j.jsxs)("form",{onSubmit:e.onEvaluationSubmit,children:[e.evalQuestions.map((function(t,a){return Object(j.jsxs)(q.a.Group,{className:"mt-2 ml-5",children:[Object(j.jsx)("h3",{children:Object(j.jsx)("span",{className:"badge badge-info w-11",children:t.question})}),t.options.map((function(a,n){return Object(j.jsxs)("div",{className:"form-check",children:[Object(j.jsx)("input",{className:"form-check-input",type:"radio",name:t.id,value:a.id,onChange:e.onEvalChange}),Object(j.jsx)("label",{className:"form-check-label font-weight-bold",children:a.option})]},a.id)}))]},t.id)})),Object(j.jsx)(q.a.Group,{className:"mt-2 ml-5",children:Object(j.jsx)(F.a,{variant:"dark",type:"submit",disabled:p,children:"Submit"})})]})}),Object(j.jsx)("div",{className:"col-2",children:Object(j.jsx)(Y,{minutes:f,seconds:x,setDisableButton:b})})]})}var $=Object(s.b)((function(e){return{userState:e.reducer}}))((function(e){var t=[],a=function(e){var a={questionId:e.target.name,answerId:e.target.value};t=t.filter((function(e){return e.questionId!==a.questionId})),t=[].concat(Object(X.a)(t),[a])};return Object(j.jsxs)("div",{className:"container-fluid workspace",children:[(!e.userState.isPreEvalClicked&&!e.userState.isPostEvalClicked||e.userState.isPreEvalCompleted&&e.userState.isPostEvalCompleted)&&Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-11 text-center",children:Object(j.jsx)(z,{onPreEvaluationButtonClick:function(t){t.preventDefault(),e.dispatch({type:L,payload:!0}),e.dispatch((function(e){R().then((function(t){e(Q(t))}))}))},onPostEvaluationButtonClick:function(t){t.preventDefault(),e.dispatch({type:w,payload:!0}),e.dispatch((function(e){D().then((function(t){e(Q(t))}))}))},isPreEvalCompleted:e.userState.isPreEvalCompleted,isPostEvalCompleted:e.userState.isPostEvalCompleted})})}),Object(j.jsxs)("div",{className:"row",children:[e.userState.isPreEvalClicked&&!e.userState.isPreEvalCompleted&&Object(j.jsx)(Z,{evalQuestions:e.userState.evalQuestions,onEvaluationSubmit:function(a){a.preventDefault();var n={userId:e.userState.selectedUser.id,questionAnswers:t};T(n).then((function(t){return e.dispatch({type:N,payload:!0})}))},onEvalChange:a,type:"PRE_EVAL"}),e.userState.isPostEvalClicked&&!e.userState.isPostEvalCompleted&&Object(j.jsx)(Z,{evalQuestions:e.userState.evalQuestions,onEvaluationSubmit:function(a){a.preventDefault();var n={userId:e.userState.selectedUser.id,questionAnswers:t};U(n).then((function(t){e.dispatch({type:g,payload:!0})}))},onEvalChange:a,type:"POST_EVAL"})]})]})})),ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){t.preventDefault(),e.props.dispatch(J(t.target[0].value)),setTimeout((function(){V(e.props.userState.selectedUser)}),5)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;A().then((function(t){return e.props.dispatch(B(t))})),G().then((function(t){return e.props.dispatch(M(t))}))}},{key:"render",value:function(){var e=this.props.userState.selectedUser.name;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container-fluid workspace",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-3"}),Object(j.jsx)("div",{className:"col-5",children:!e&&Object(j.jsx)(H,{onSubmit:this.onSubmit,options:this.props.userState.users})}),Object(j.jsx)("div",{className:"col-4"})]}),Object(j.jsx)("div",{className:"row",children:e&&Object(j.jsx)($,{})})]})})}}]),a}(n.Component),te=Object(s.b)((function(e){return{userState:e.reducer}}))(ee),ae=a(12),ne=a(50),re=a(11),ce={isPreEvalClicked:!1,isPostEvalClicked:!1,isPreEvalCompleted:!1,isPostEvalCompleted:!1,evalQuestions:[],users:[],selectedUser:{},title:""},se={userRecords:[]},ie=a(92),oe=a(93),ue=a.n(oe),le=Object(ne.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(re.a)(Object(re.a)({},e),{},{isPreEvalClicked:t.payload,isPostEvalClicked:!1});case w:return Object(re.a)(Object(re.a)({},e),{},{isPostEvalClicked:t.payload,isPreEvalClicked:!1});case N:return Object(re.a)(Object(re.a)({},e),{},{isPreEvalCompleted:t.payload,isPostEvalClicked:!1,isPreEvalClicked:!1});case g:return Object(re.a)(Object(re.a)({},e),{},{isPostEvalCompleted:t.payload,isPreEvalCompleted:!0,isPreEvalClicked:!1,isPostEvalClicked:!1});case k:return Object(re.a)(Object(re.a)({},e),{},{evalQuestions:t.payload});case P:return Object(re.a)(Object(re.a)({},e),{},{users:t.payload});case y:return Object(re.a)(Object(re.a)({},e),{},{title:t.payload});case C:var a=e.users.find((function(e){return e.name===t.payload}));return Object(re.a)(Object(re.a)({},e),{},{selectedUser:a});case _:return Object(re.a)(Object(re.a)({},e),{},{selectedUser:t.payload});default:return e}},adminReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var a=[].concat(Object(X.a)(e.userRecords),[t.payload]);return Object(re.a)(Object(re.a)({},e),{},{userRecords:a});case x:var n=t.payload,r=e.userRecords.find((function(e){return e.id===n.userId})),c=e.userRecords.filter((function(e){return e.id!==n.userId}));r=Object(re.a)(Object(re.a)({},r),{},{preEvalStatus:"Completed",preEvalScore:n.preEvalScore});var s=[].concat(Object(X.a)(c),[r]);return Object(re.a)(Object(re.a)({},e),{},{userRecords:s});case S:var i=t.payload,o=e.userRecords.find((function(e){return e.id===i.userId})),u=e.userRecords.filter((function(e){return e.id!==i.userId}));o=Object(re.a)(Object(re.a)({},o),{},{postEvalStatus:"Completed",postEvalScore:i.postEvalScore});var l=[].concat(Object(X.a)(u),[o]);return Object(re.a)(Object(re.a)({},e),{},{userRecords:l});default:return e}}}),de=function(){try{var e=localStorage.getItem("state");return e?JSON.parse(e):void 0}catch(t){return void console.error(t)}}();de||localStorage.clear();var pe=Object(ne.c)(le,de,Object(ne.a)(ie.a,ue.a));pe.subscribe((function(){!function(e){try{localStorage.setItem("state",JSON.stringify(e))}catch(t){console.error(t)}}(pe.getState())}));var je=pe,be=function(e){},ve=function(e){var t;console.log(e),je.dispatch((t=JSON.parse(e.data),{type:E,payload:t}))},Oe=function(e){var t;console.log(e),je.dispatch((t=JSON.parse(e.data),{type:x,payload:t}))},fe=function(e){var t;console.log(e),je.dispatch((t=JSON.parse(e.data),{type:S,payload:t}))},he=(a(149),a(150),a(94)),me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columnDefs:[{headerName:"User",field:"name",sortable:!0,filter:!0},{headerName:"Pre Evaluation",field:"preEvalStatus",sortable:!0,filter:!0},{headerName:"Pre Evaluation Score",field:"preEvalScore",sortable:!0,filter:!0},{headerName:"Post Evaluation",field:"postEvalStatus",sortable:!0,filter:!0},{headerName:"Post Evaluation Score",field:"postEvalScore",sortable:!0,filter:!0}]},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-9",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)("div",{className:"card-body position-relative",children:Object(j.jsx)("div",{className:"ag-theme-alpine",style:{height:"550px"},children:Object(j.jsx)(he.AgGridReact,{columnDefs:this.state.columnDefs,rowData:this.props.adminState.userRecords})})})})})})})}}]),a}(n.Component),Ee=Object(s.b)((function(e){return{adminState:e.adminReducer}}))(me),xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;A().then((function(t){return e.props.dispatch(B(t))})),G().then((function(t){return e.props.dispatch(M(t))})),this.props.dispatch({type:_,payload:{id:"0001",name:"Admin"}}),function(){var e=new EventSource(I+"/stream-flux");e.addEventListener("HEARTBEAT_EVENT",be,!1),e.addEventListener("USER_LOGGED_IN",ve,!1),e.addEventListener("PRE_EVAL_COMPLETED",Oe,!1),e.addEventListener("POST_EVAL_COMPLETED",fe,!1)}()}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsx)(Ee,{})})}}]),a}(n.Component),Se=Object(s.b)((function(e){return{userState:e.reducer,adminState:e.adminReducer}}))(xe),ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container-fluid App",children:[Object(j.jsx)("div",{className:"row mb-5",children:Object(j.jsx)(b,{})}),Object(j.jsx)("div",{className:"row p-2",children:Object(j.jsxs)(ae.c,{children:[Object(j.jsx)(ae.a,{exact:!0,path:"/fx-admin-gui",component:Se}),Object(j.jsx)(ae.a,{path:"/",component:te})]})})]})}}]),a}(n.Component),Ce=Object(s.b)((function(e){return{state:e}}))(ye);c.a.render(Object(j.jsx)(s.a,{store:je,children:Object(j.jsx)(i.a,{children:Object(j.jsx)(Ce,{})})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.329b8ccc.chunk.js.map